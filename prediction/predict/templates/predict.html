{% extends 'base.html' %}
{% block title %}Predict | Smart-Housing{% endblock %}

{% block content %}
<section class="page-header">
    <div class="container">
        <h1>House Price Prediction</h1>
        <p>Enter details below to estimate the property price.</p>
    </div>
</section>

<section class="container">
    <div class="card form-card">
        <form method="post" class="form-grid" novalidate>
            {% csrf_token %}

            <div class="form-field">
                <label for="size">House Size (sq ft)</label>
                <input id="size" type="number" step="0.01" name="size" value="{{ form.size }}" required>
            </div>

            <div class="form-field">
                <label for="bedrooms">Bedrooms</label>
                <input id="bedrooms" type="number" name="bedrooms" value="{{ form.bedrooms }}" required>
            </div>

            <div class="form-field">
                <label for="age">House Age (years)</label>
                <input id="age" type="number" name="age" value="{{ form.age }}" required>
            </div>

            <div class="form-field">
                <label for="location">Location</label>
                <select id="location" name="location">
                    {% for opt in locations %}
                        <option value="{{ opt }}" {% if form.location == opt %}selected{% endif %}>{{ opt }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="form-field">
                <label for="house_type">House Type</label>
                <select id="house_type" name="house_type">
                    {% for opt in house_types %}
                        <option value="{{ opt }}" {% if form.house_type == opt %}selected{% endif %}>{{ opt }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="form-actions">
                <button class="btn btn-primary" type="submit">Predict Price</button>
            </div>
        </form>

        {% if error %}
        <div class="alert alert-danger" role="alert">{{ error }}</div>
        {% endif %}

        {% if prediction is not None %}
        <div class="result">
            <h2 class="result-title">Estimated Price</h2>
            <p class="result-value">${{ prediction }}</p>
        </div>
        {% endif %}
    </div>
</section>
{% endblock %}